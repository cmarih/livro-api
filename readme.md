# Objetivo üìö
Com o auxilio do chat GPT, construiu-se uma API de cadastro de livros. Utilizando o Node.js e o framework mongoose para persistir dados no mongoDB, o framework express para desenvolver a API.

## Pr√©-requisitos:

- Node.js: preferencialmente na vers√£o 20.x LTS, para garantir compatibilidade e suporte de longo prazo 
- Visual Studio Code
- Extens√£o do postman no VS Code para valida√ß√£o da API

## Depend√™ncias

No diret√≥rio da raiz da API, precisa instalar/iniciar as depend√™ncias abaixo:
- *npm init -y*

- *npm install express mongoose*

## Prompt:

Crie uma API RESTful em Node.js para um sistema de cadastro de livros. A API deve incluir as seguintes funcionalidades:

1. **Cadastro de livros**: Permita que os usu√°rios cadastrem livros informando t√≠tulo, autor, editora, ano de publica√ß√£o e n√∫mero de p√°ginas. **Todos os campos s√£o obrigat√≥rios.**
2. **Listagem de livros**: Implemente um endpoint para listar todos os livros cadastrados, retornando todas as informa√ß√µes dos livros.
3. **Consulta de livro por ID**: Crie um endpoint que permita consultar um livro espec√≠fico usando seu ID.
4. **Remo√ß√£o de livro**: Implemente um endpoint para deletar um livro do sistema utilizando seu ID.
5. **Banco de Dados**: Utilize o MongoDB como banco de dados.

**Requisitos t√©cnicos:**

- Utilize Express.js para gerenciar as rotas da API.
- Use Mongoose para a modelagem dos dados e integra√ß√£o com o MongoDB.
- Inclua tratamento de erros e valida√ß√µes adequadas para todos os endpoints.
- Adicione coment√°rios no c√≥digo para explicar as principais partes da implementa√ß√£o.

# Cypress

- Instalar o Cypress como depend√™ncia de desenvolvimento no mesmo diret√≥rio do c√≥digo fonte do projeto: 

```bash
npm i cypress -D
```

- Ap√≥s a intala√ß√£o, iniciar a interface do Cypress com o comando: 

```bash
npx cypress open
```

- Instala√ß√£o da biblioteca do npm, para exibir os resultados das requisi√ß√µes da API no front-end (navegador do electron), importante para etapa de implementa√ß√£o dos testes automatizados. 
- Plugin Cypress pelo npm:[cypress-plugin-api](https://www.npmjs.com/package/cypress-plugin-api) 

- Para instalar como uma depend√™ncia de desenvolvimento: 

```bash
npm i cypress-plugin-api -D
```

Importe o plugin para seu *cypress/support/e2e.js*: 

```bash
import 'cypress-plugin-api' -D
```


- Instala√ß√£o da biblioteca do **MongoDB**, para controle dos dados da API: [cypress-mongodb](https://www.npmjs.com/package/cypress-mongodb) 

- Para instalar como uma depend√™ncia de desenvolvimento: 

```bash
npm i cypress-mongodb -D
```

Nesse projeto foi implementado uma fun√ß√£o dropCollection para tratar as massas de dados (Excluir-las e evitar sujeira na base de dados).

## Subindo a API üöÄ

- Clonar o reposit√≥rio e instalar as depend√™ncias: 
 ```bash
npm install
```

- Para executar a API execute: 
 ```bash
npm start
```
# Implementando o projeto üìö
Para implementar o projeto, foi mapeado poss√≠veis cen√°rios de testes para serem automatizados.

## **Cen√°rio 1: Cadastro de livro com todos os campos v√°lidos**
- ### Resultado:
  <img src="https://github.com/cmarih/livro-api/blob/master/testes-evidencias/cadastrar-livro.png" alt="Print teste cadastrar novo livro">

## **Cen√°rio 2: Tentativa de cadastro com campos ausentes - Teste Negativo**
- ### Resultado:
  <img src="https://github.com/cmarih/livro-api/blob/master/testes-evidencias/campo-obrigatorio.png" alt="Print teste cadastrar sem campo obrigatorio">

## **Cen√°rio 3: Tentativa de cadastro com campos duplicados - Teste Negativo**
- ### Resultado:
  <img src="https://github.com/cmarih/livro-api/blob/master/testes-evidencias/livro-duplicado.png" alt="Print teste cadastrar livro existente na base">

## **Cen√°rio 4: Listar todos os livros cadastrados**
- ### Resultado:
  <img src="https://github.com/cmarih/livro-api/blob/master/testes-evidencias/todos-livros.png" alt="Print teste consulta lista de livros cadastrados">

## **Cen√°rio 5: Consultar um livro existente pelo ID**
- ### Resultado:
  <img src="https://github.com/cmarih/livro-api/blob/master/testes-evidencias/livro_id.png" alt="Print teste consulta por Id do livro">

## **Cen√°rio 6: Remover um livro existente pelo ID**

REMOVER PRINTS DE TELA E TRABALHAR EM CIMA DE RELAT√ìRIOS GERADOS PELO CYPRESS, COMO EVIDENCIA DE TESTE
- Implementar:
Cen√°rio de exclus√£o de livros
gerar a massa de dados de forma autom√°tica
POSSIBILIDADE DE UTILIZA√á√ÉO DO METODO PUT/ATUALIZA√á√ÉO NA API

*Projeto feito assistindo as aulas do canal QA Papito:  [QA Papito Aula 1](https://www.youtube.com/watch?v=FI65wNBKQkE&ab_channel=QAPapito) & [QA Papito Aula 2](https://www.youtube.com/watch?v=JyDQTO-DXMQ&ab_channel=QAPapito)*